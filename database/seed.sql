-- [Seed Data Insertion Order]
-- 1. policies (FK 참조 없음)
-- 2. region_code (FK 참조 없음)
-- 3. household_income_standard100 (FK 참조 없음)
-- 4. income_rules (Ref: policies)

BEGIN;

/* =========================================
   1. Policies (주거 정책 샘플 데이터)
   - 공공데이터포털 및 주택도시기금 공식 사이트 기반 데이터
   - 초기 서비스 로직 검증을 위해 핵심 정책 위주로 선별하여 구성하였습니다.
   ========================================= */
INSERT INTO public.policies (policy_id, category, policy_type, policy_name, region, max_house_price, req_newborn, req_newlywed, min_children, min_age, max_age, house_owner_allowed, asset_limit, max_benefit_amount, min_rate, max_rate, max_duration_year, policy_url, "desc") VALUES
(100, '금융지원', 'LOAN', '내집마련 디딤돌대출', '전국', 500000000, false, false, 0, 19, 99, false, 488000000, 400000000, 2.85, 4.15, 30, 'https://nhuf.molit.go.kr/FP/FP005/FP0050201.jsp', '일반 5억(신혼 6억) 이하 주택. LTV 70~80%.'),
(101, '금융지원', 'LOAN', '신생아 특례 구입자금', '전국', 900000000, true, false, 0, 19, 99, false, 488000000, 500000000, 1.6, 3.3, 30, 'https://www.myhome.go.kr/hws/portal/cont/selectBabySpecialCaseStepStoneLoneView.do', '9억 이하 주택. 2년 내 출산 필수.'),
(102, '금융지원', 'LOAN', '버팀목 전세자금대출', '전국', 300000000, false, false, 0, 19, 99, false, 345000000, 120000000, 2.1, 2.9, 10, 'https://nhuf.molit.go.kr/FP/FP005/FP0050401.jsp', '보증금 수도권 3억/지방 2억 이하.'),
(103, '금융지원', 'LOAN', '청년전용 버팀목전세', '전국', 300000000, false, false, 0, 19, 34, false, 345000000, 200000000, 1.8, 2.7, 10, 'https://nhuf.molit.go.kr/FP/FP005/FP0050402.jsp', '보증금 3억 이하. 만 34세 이하 청년.'),
(104, '금융지원', 'LOAN', '신혼부부전용 구입자금', '전국', 600000000, false, true, 0, 19, 99, false, 488000000, 400000000, 2.15, 3.25, 30, 'https://nhuf.molit.go.kr/FP/FP005/FP0050204.jsp', '6억 이하 주택. 신혼부부 전용.'),
(105, '금융지원', 'LOAN', '신혼부부전용 전세자금', '전국', 400000000, false, true, 0, 19, 99, false, 345000000, 300000000, 1.5, 2.7, 10, 'https://nhuf.molit.go.kr/FP/FP005/FP0050403.jsp', '보증금 수도권 4억/지방 3억 이하.'),
(106, '금융지원', 'LOAN', '신생아 특례 전세자금', '전국', 500000000, true, false, 0, 19, 99, false, 345000000, 300000000, 1.1, 3.0, 10, 'https://www.myhome.go.kr/hws/portal/cont/selectBabySpecialCaseCrutchLoneView.do', '보증금 수도권 5억/지방 4억 이하.'),
(107, '금융지원', 'LOAN', '청년 보증부 월세대출', '전국', 50000000, false, false, 0, 19, 34, false, 345000000, 35000000, 1.3, 1.8, 2, 'https://nhuf.molit.go.kr/FP/FP005/FP0050503.jsp', '보증금 5천만원 이하 & 월세 70만원 이하.'),
(108, '금융지원', 'LOAN', '주거안정 월세대출', '전국', 99999999999, false, false, 0, 19, 99, false, 345000000, 14400000, 1.0, 1.5, 2, 'https://nhuf.molit.go.kr/FP/FP005/FP0050501.jsp', '보증금 무관. 월세 60만원 한도 지원.'),
(109, '금융지원', 'LOAN', '신혼희망타운 주담대', '전국', 99999999999, false, true, 0, 19, 99, false, 396000000, 400000000, 1.3, 1.3, 30, 'https://nhuf.molit.go.kr/FP/FP005/FP0050205.jsp', '신혼희망타운 분양 당첨자 전용.'),
(200, '공급지원', 'SUPPLY', '뉴:홈 (공공분양)', '전국', 99999999999, false, false, 0, 19, 99, false, 379000000, 0, 0.0, 0.0, 0, 'https://nuhome.kr/', '분양가 상한제 적용 주택.'),
(201, '공급지원', 'SUPPLY', '통합공공임대주택', '전국', 99999999999, false, false, 0, 19, 99, false, 361000000, 0, 0.0, 0.0, 30, 'https://apply.lh.or.kr/lhapply/cm/cntnts/cntntsView.do?mi=1201583&cntntsId=1201331', '소득 연동 임대료.'),
(202, '공급지원', 'SUPPLY', '행복주택', '전국', 99999999999, false, false, 0, 19, 39, false, 361000000, 0, 0.0, 0.0, 6, 'https://www.myhome.go.kr/hws/portal/cont/selectHappyHouseView.do', '대학생/청년/신혼부부 우선 공급.'),
(203, '공급지원', 'SUPPLY', '청년 매입임대주택', '전국', 99999999999, false, false, 0, 19, 39, false, 361000000, 0, 0.0, 0.0, 6, 'https://apply.lh.or.kr/lhapply/cm/cntnts/cntntsView.do?cntntsId=201251&mi=1150', '시세 40~50% 수준 임대.'),
(204, '공급지원', 'SUPPLY', '신혼부부 매입임대(I형)', '전국', 99999999999, false, true, 0, 19, 99, false, 361000000, 0, 0.0, 0.0, 20, 'https://apply.lh.or.kr/lhapply/cm/cntnts/cntntsView.do?mi=1150&cntntsId=201254', '신혼부부 전용 임대(I형)'),
(205, '공급지원', 'SUPPLY', '든든전세주택', '전국', 99999999999, false, false, 0, 19, 99, false, 99999999999, 0, 0.0, 0.0, 8, 'https://apply.lh.or.kr/lhapply/cm/cntnts/cntntsView.do?mi=1150&cntntsId=201266', '소득/자산 무관.'),
(206, '공급지원', 'SUPPLY', '국민임대주택', '전국', 99999999999, false, false, 0, 19, 99, false, 361000000, 0, 0.0, 0.0, 30, 'https://apply.lh.or.kr/lhapply/cm/cntnts/cntntsView.do?mi=1148&cntntsId=1123', '최장 30년 거주.'),
(207, '공급지원', 'SUPPLY', '영구임대주택', '전국', 99999999999, false, false, 0, 19, 99, false, 255000000, 0, 0.0, 0.0, 50, 'https://www.myhome.go.kr/hws/portal/cont/selectPermanentRHView.do', '수급자 등 최저소득계층 대상.'),
(208, '공급지원', 'SUPPLY', '공공지원 민간임대', '전국', 99999999999, false, false, 0, 19, 99, false, 99999999999, 0, 0.0, 0.0, 10, 'https://www.myhome.go.kr/hws/portal/cont/selectPublicSupportCivilianRHView.do', '무주택자 우선.'),
(209, '공급지원', 'SUPPLY', '기숙사형 매입임대', '전국', 99999999999, false, false, 0, 19, 39, false, 99999999999, 0, 0.0, 0.0, 6, 'https://apply.lh.or.kr/lhapply/cm/cntnts/cntntsView.do?mi=1150&cntntsId=201255', '대학생 및 청년.'),
(300, '복지지원', 'CASH', '주거급여 (월세지원)', '전국', 99999999999, false, false, 0, 0, 99, true, 99999999999, 527000, 0.0, 0.0, 99, 'https://www.bokjiro.go.kr/ssis-tbu/twataa/wlfareInfo/moveTWATV_S02.do?wlfareInfoId=WLF00001099', '자가 보유자도 수선유지급여 가능.'),
(301, '복지지원', 'CASH', '청년월세 특별지원', '전국', 99999999999, false, false, 0, 19, 34, false, 122000000, 2400000, 0.0, 0.0, 1, 'https://www.bokjiro.go.kr/ssis-tbu/cms/pc/customer/notice/1303684_1141.html', '부모님과 별도 거주 필수.'),
(302, '복지지원', 'SAVING', '청년 주택드림 청약', '전국', 99999999999, false, false, 0, 19, 34, false, 99999999999, 0, 4.5, 4.5, 99, 'https://nhuf.molit.go.kr/FP/FP007/FP0070205.jsp', '청약 기능 + 대출 연계.'),
(303, '복지지원', 'INSURANCE', '전세보증금 반환보증', '전국', 99999999999, false, false, 0, 19, 99, false, 99999999999, 0, 0.0, 0.0, 2, 'https://khug.or.kr/jeonse/index.jsp', '수도권 7억/지방 5억 이하 전세.'),
(304, '복지지원', 'CASH', '청년 전세보증료 지원', '전국', 300000000, false, false, 0, 19, 39, false, 99999999999, 300000, 0.0, 0.0, 1, 'https://www.youthcenter.go.kr/yjInfor/yjItemDetail.do?openApiVlak=YTMwMDIzMDIyNDAz', '보증금 3억 이하만 지원.'),
(305, '복지지원', 'TAX', '월세액 세액공제', '전국', 400000000, false, false, 0, 0, 99, false, 99999999999, 1275000, 0.0, 0.0, 0, 'https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?mi=2463&cntntsId=7126', '시가 4억 이하 또는 85㎡ 이하.'),
(306, '복지지원', 'TAX', '주택청약 소득공제', '전국', 99999999999, false, false, 0, 0, 99, false, 99999999999, 1200000, 0.0, 0.0, 0, 'https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?mi=40610&cntntsId=239022', '무주택 세대주 필수.'),
(307, '복지지원', 'CASH', '비정상거처 이주지원', '전국', 99999999999, false, false, 0, 0, 99, false, 99999999999, 400000, 0.0, 0.0, 1, 'https://www.myhome.go.kr/hws/portal/cont/selectSupAbnormalResidentialView.do', '쪽방, 반지하 거주자.'),
(308, '복지지원', 'SUPPLY', '고령자 복지주택', '전국', 99999999999, false, false, 0, 65, 99, false, 99999999999, 0, 0.0, 0.0, 50, 'https://www.myhome.go.kr/hws/portal/cont/selectResidentialWelfareHousingView.do', '만 65세 이상.'),
(309, '복지지원', 'TAX', '생애최초 취득세 감면', '전국', 1200000000, false, false, 0, 19, 99, false, 99999999999, 2000000, 0.0, 0.0, 0, 'https://www.gov.kr/main?a=AA020InfoCappViewApp&HighCtgCD=A09002&CappID=131000000572', '주택가액 12억 이하.'),
(401, '공급지원', 'SUPPLY', '신혼부부 매입임대(II형)', '전국', 99999999999, false, true, 0, 19, 99, false, 361000000, 0, 0.0, 0.0, 20, 'https://apply.lh.or.kr/lhapply/cm/cntnts/cntntsView.do?mi=1150&cntntsId=201257', '신혼부부 전용 임대(II형)');


/* =========================================
   2. Income Rules (정책별 소득 제한 규칙)
   - 동일 정책 내에서도 타겟(신혼부부, 생애최초 등)에 따라 소득 기준이 상이한 경우를 처리
   - income_limit < 1000 인 경우: 중위소득 % 비율로 해석하는 비즈니스 로직 적용
   - income_limit >= 1000 인 경우: 절대적인 연봉 금액(원)으로 해석
   ========================================= */
INSERT INTO public.income_rules (policy_id, target_type, income_limit) VALUES
(100, '기본(디딤돌)', 60000000), (100, '생애최초/2자녀', 70000000), (100, '신혼부부', 85000000),
(101, '기본(신생아구입)', 130000000), (101, '맞벌이(예정)', 200000000),
(102, '기본(버팀목)', 50000000), (103, '기본(청년버팀목)', 50000000),
(104, '신혼부부(구입)', 85000000), (105, '신혼부부(전세)', 75000000),
(106, '기본(신생아전세)', 130000000), (107, '기본(청년보증부)', 50000000),
(108, '우대형(주거안정)', 50000000), (109, '기본(신혼희망)', 37000000),
(200, '나눔형(뉴홈)', 78000000), (201, '중위100%(통합)', 78000000),
(202, '청년1인(행복)', 48000000), (203, '청년매입', 100),
(204, '신혼I형(매입)(맞벌이)', 90), (204, '신혼I형(매입)(기본)', 70),
(205, '든든전세(무관)', 9999999999), (206, '중위70%(국민)', 54000000),
(207, '수급자(영구)', 30000000), (208, '민간임대(무관)', 9999999999),
(209, '청년(기숙사형)', 48000000), (300, '중위48%(급여)', 30000000),
(301, '중위60%(월세)', 40000000), (302, '기본(청약)', 50000000),
(303, '반환보증(무관)', 9999999999), (304, '보증료지원', 50000000),
(305, '월세공제', 70000000), (306, '청약공제', 70000000),
(307, '이주지원(무관)', 9999999999), (308, '고령자(중위50)', 35000000),
(309, '생애최초감면', 9999999999), (401, '신혼II형(매입)(맞벌이)', 140),
(401, '신혼II형(매입)(기본)', 120);


/* =========================================
   3. Region Code (법정동 코드)
   - 국토교통부 API와 연동된 지역 코드 (시도/시군구)
   - 빈번한 변동이 없어 DB 내 정적 데이터로 관리하여 API 호출 비용 절감
   ========================================= */
INSERT INTO public.region_code (code, sido, sigungu) VALUES
('11000','서울특별시',NULL), ('11110','서울특별시','종로구'), ('11140','서울특별시','중구'),
('11170','서울특별시','용산구'), ('11200','서울특별시','성동구'), ('11215','서울특별시','광진구'),
('11230','서울특별시','동대문구'), ('11260','서울특별시','중랑구'), ('11290','서울특별시','성북구'),
('11305','서울특별시','강북구'), ('11320','서울특별시','도봉구'), ('11350','서울특별시','노원구'),
('11380','서울특별시','은평구'), ('11410','서울특별시','서대문구'), ('11440','서울특별시','마포구'),
('11470','서울특별시','양천구'), ('11500','서울특별시','강서구'), ('11530','서울특별시','구로구'),
('11545','서울특별시','금천구'), ('11560','서울특별시','영등포구'), ('11590','서울특별시','동작구'),
('11620','서울특별시','관악구'), ('11650','서울특별시','서초구'), ('11680','서울특별시','강남구'),
('11710','서울특별시','송파구'), ('11740','서울특별시','강동구'), ('26000','부산광역시',NULL),
('26110','부산광역시','중구'), ('26140','부산광역시','서구'), ('26170','부산광역시','동구'),
('26200','부산광역시','영도구'), ('26230','부산광역시','부산진구'), ('26260','부산광역시','동래구'),
('26290','부산광역시','남구'), ('26320','부산광역시','북구'), ('26350','부산광역시','해운대구'),
('26380','부산광역시','사하구'), ('26410','부산광역시','금정구'), ('26440','부산광역시','강서구'),
('26470','부산광역시','연제구'), ('26500','부산광역시','수영구'), ('26530','부산광역시','사상구'),
('26710','부산광역시','기장군'), ('27000','대구광역시',NULL), ('27110','대구광역시','중구'),
('27140','대구광역시','동구'), ('27170','대구광역시','서구'), ('27200','대구광역시','남구'),
('27230','대구광역시','북구'), ('27260','대구광역시','수성구'), ('27290','대구광역시','달서구'),
('27710','대구광역시','달성군'), ('27720','대구광역시','군위군'), ('28000','인천광역시',NULL),
('28110','인천광역시','중구'), ('28140','인천광역시','동구'), ('28177','인천광역시','미추홀구'),
('28185','인천광역시','연수구'), ('28200','인천광역시','남동구'), ('28237','인천광역시','부평구'),
('28245','인천광역시','계양구'), ('28260','인천광역시','서구'), ('28710','인천광역시','강화군'),
('28720','인천광역시','옹진군'), ('29000','광주광역시',NULL), ('29110','광주광역시','동구'),
('29140','광주광역시','서구'), ('29155','광주광역시','남구'), ('29170','광주광역시','북구'),
('29200','광주광역시','광산구'), ('30000','대전광역시',NULL), ('30110','대전광역시','동구'),
('30140','대전광역시','중구'), ('30170','대전광역시','서구'), ('30200','대전광역시','유성구'),
('30230','대전광역시','대덕구'), ('31000','울산광역시',NULL), ('31110','울산광역시','중구'),
('31140','울산광역시','남구'), ('31170','울산광역시','동구'), ('31200','울산광역시','북구'),
('31710','울산광역시','울주군'), ('36110','세종특별자치시',NULL), ('41000','경기도',NULL),
('41110','경기도','수원시'), ('41111','경기도','수원시 장안구'), ('41113','경기도','수원시 권선구'),
('41115','경기도','수원시 팔달구'), ('41117','경기도','수원시 영통구'), ('41130','경기도','성남시'),
('41131','경기도','성남시 수정구'), ('41133','경기도','성남시 중원구'), ('41135','경기도','성남시 분당구'),
('41150','경기도','의정부시'), ('41170','경기도','안양시'), ('41171','경기도','안양시 만안구'),
('41173','경기도','안양시 동안구'), ('41190','경기도','부천시'), ('41192','경기도','부천시 원미구'),
('41194','경기도','부천시 소사구'), ('41196','경기도','부천시 오정구'), ('41210','경기도','광명시'),
('41220','경기도','평택시'), ('41250','경기도','동두천시'), ('41270','경기도','안산시'),
('41271','경기도','안산시 상록구'), ('41273','경기도','안산시 단원구'), ('41280','경기도','고양시'),
('41281','경기도','고양시 덕양구'), ('41285','경기도','고양시 일산동구'), ('41287','경기도','고양시 일산서구'),
('41290','경기도','과천시'), ('41310','경기도','구리시'), ('41360','경기도','남양주시'),
('41370','경기도','오산시'), ('41390','경기도','시흥시'), ('41410','경기도','군포시'),
('41430','경기도','의왕시'), ('41450','경기도','하남시'), ('41460','경기도','용인시'),
('41461','경기도','용인시 처인구'), ('41463','경기도','용인시 기흥구'), ('41465','경기도','용인시 수지구'),
('41480','경기도','파주시'), ('41500','경기도','이천시'), ('41550','경기도','안성시'),
('41570','경기도','김포시'), ('41590','경기도','화성시'), ('41610','경기도','광주시'),
('41630','경기도','양주시'), ('41650','경기도','포천시'), ('41670','경기도','여주시'),
('41800','경기도','연천군'), ('41820','경기도','가평군'), ('41830','경기도','양평군'),
('43000','충청북도',NULL), ('43110','충청북도','청주시'), ('43111','충청북도','청주시 상당구'),
('43112','충청북도','청주시 서원구'), ('43113','충청북도','청주시 흥덕구'), ('43114','충청북도','청주시 청원구'),
('43130','충청북도','충주시'), ('43150','충청북도','제천시'), ('43720','충청북도','보은군'),
('43730','충청북도','옥천군'), ('43740','충청북도','영동군'), ('43745','충청북도','증평군'),
('43750','충청북도','진천군'), ('43760','충청북도','괴산군'), ('43770','충청북도','음성군'),
('43800','충청북도','단양군'), ('44000','충청남도',NULL), ('44130','충청남도','천안시'),
('44131','충청남도','천안시 동남구'), ('44133','충청남도','천안시 서북구'), ('44150','충청남도','공주시'),
('44180','충청남도','보령시'), ('44200','충청남도','아산시'), ('44210','충청남도','서산시'),
('44230','충청남도','논산시'), ('44250','충청남도','계룡시'), ('44270','충청남도','당진시'),
('44710','충청남도','금산군'), ('44760','충청남도','부여군'), ('44770','충청남도','서천군'),
('44790','충청남도','청양군'), ('44800','충청남도','홍성군'), ('44810','충청남도','예산군'),
('44825','충청남도','태안군'), ('46000','전라남도',NULL), ('46110','전라남도','목포시'),
('46130','전라남도','여수시'), ('46150','전라남도','순천시'), ('46170','전라남도','나주시'),
('46230','전라남도','광양시'), ('46710','전라남도','담양군'), ('46720','전라남도','곡성군'),
('46730','전라남도','구례군'), ('46770','전라남도','고흥군'), ('46780','전라남도','보성군'),
('46790','전라남도','화순군'), ('46800','전라남도','장흥군'), ('46810','전라남도','강진군'),
('46820','전라남도','해남군'), ('46830','전라남도','영암군'), ('46840','전라남도','무안군'),
('46860','전라남도','함평군'), ('46870','전라남도','영광군'), ('46880','전라남도','장성군'),
('46890','전라남도','완도군'), ('46900','전라남도','진도군'), ('46910','전라남도','신안군'),
('47000','경상북도',NULL), ('47110','경상북도','포항시'), ('47111','경상북도','포항시 남구'),
('47113','경상북도','포항시 북구'), ('47130','경상북도','경주시'), ('47150','경상북도','김천시'),
('47170','경상북도','안동시'), ('47190','경상북도','구미시');


/* =========================================
   4. Household Income Standard (가구원 수별 기준 중위소득 100%)
   - 2024~2025년 기준 데이터
   - income_rules의 % 기준을 원화 금액으로 환산할 때 기준점이 됨
   ========================================= */
INSERT INTO public.household_income_standard100 (household_size, monthly_income) VALUES
(1, 7205312),
(2, 7205312),
(3, 7205312),
(4, 8578088),
(5, 9031048),
(6, 9733086),
(7, 10435124),
(8, 11137162);


-- [System] Sequence Reset (중요!)
-- 다음 INSERT 시 에러 방지를 위해 시퀀스 값을 현재 최대 ID 값으로 강제 조정함.
SELECT setval(pg_get_serial_sequence('public.policies', 'policy_id'), (SELECT MAX(policy_id) FROM public.policies));

COMMIT;